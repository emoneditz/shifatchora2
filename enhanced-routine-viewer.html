<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <title>Enhanced Routine Viewer</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;700&display=swap');
    
    body {
      font-family: 'Noto Sans Bengali', sans-serif;
      margin: 0;
      padding: 40px;
      background: linear-gradient(135deg, #141e30, #243b55);
      background-attachment: fixed;
      background-size: cover;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .container {
      width: 90%;
      max-width: 1200px;
    }

    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      background-color: rgba(15, 23, 42, 0.8);
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 
        0 0 20px rgba(255, 0, 0, 0.7),
        0 0 40px rgba(0, 255, 0, 0.5),
        0 0 60px rgba(0, 0, 255, 0.3);
      animation: rgb-border 8s linear infinite;
      backdrop-filter: blur(10px);
      position: relative;
    }

    table::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, 
        #ff0000, #ff7300, #fffb00, #48ff00, 
        #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
      background-size: 400%;
      border-radius: 18px;
      z-index: -1;
      animation: glowing 20s linear infinite;
    }

    th, td {
      padding: 18px;
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.1);
      position: relative;
      transition: all 0.3s ease;
    }

    td:hover {
      background-color: rgba(255, 255, 255, 0.1);
      transform: scale(1.05);
      z-index: 1;
    }

    th {
      background-color: rgba(10, 10, 40, 0.9);
      color: #f0f0f0;
      font-weight: bold;
      text-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
      letter-spacing: 1px;
    }

    caption {
      font-size: 36px;
      font-weight: bold;
      margin-bottom: 30px;
      color: #ffffff;
      text-shadow: 0 0 15px #00aeff, 0 0 30px #0066ff;
      letter-spacing: 2px;
    }

    .today-row {
      animation: pulse-row 3s infinite;
    }

    .current-class, .current-time {
      background: linear-gradient(135deg, #00c853, #64dd17) !important;
      color: #000 !important;
      font-weight: bold;
      box-shadow: 0 0 15px rgba(100, 255, 100, 0.7);
      border: 2px solid #ffff00;
      text-shadow: 0 0 5px rgba(255, 255, 255, 0.7);
    }

    @keyframes pulse-row {
      0% { background-color: rgba(30, 30, 60, 0.2); }
      50% { background-color: rgba(50, 50, 80, 0.4); }
      100% { background-color: rgba(30, 30, 60, 0.2); }
    }

    @keyframes rgb-border {
      0% { box-shadow: 0 0 20px rgba(255, 0, 0, 0.7), 0 0 40px rgba(255, 0, 0, 0.4), 0 0 60px rgba(255, 0, 0, 0.2); }
      25% { box-shadow: 0 0 20px rgba(0, 255, 0, 0.7), 0 0 40px rgba(0, 255, 0, 0.4), 0 0 60px rgba(0, 255, 0, 0.2); }
      50% { box-shadow: 0 0 20px rgba(0, 0, 255, 0.7), 0 0 40px rgba(0, 0, 255, 0.4), 0 0 60px rgba(0, 0, 255, 0.2); }
      75% { box-shadow: 0 0 20px rgba(255, 0, 255, 0.7), 0 0 40px rgba(255, 0, 255, 0.4), 0 0 60px rgba(255, 0, 255, 0.2); }
      100% { box-shadow: 0 0 20px rgba(255, 0, 0, 0.7), 0 0 40px rgba(255, 0, 0, 0.4), 0 0 60px rgba(255, 0, 0, 0.2); }
    }

    @keyframes glowing {
      0% { background-position: 0 0; }
      50% { background-position: 400% 0; }
      100% { background-position: 0 0; }
    }
    
    /* Glass effect for cells */
    tbody td {
      background-color: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(5px);
    }
    
    /* Day column styling */
    tbody td:first-child {
      font-weight: bold;
      background-color: rgba(20, 20, 50, 0.7);
      color: #ffd700;
    }
  </style>
</head>
<body>
  <div class="container">
    <table id="routine">
      <caption>Class Routine</caption>
      <thead>
        <tr>
          <th>দিন</th>
          <th>9:30 – 10:10</th>
          <th>10:10 – 10:50</th>
          <th>10:50 – 11:30</th>
          <th>11:30 – 12:10</th>
          <th>12:10 – 12:50</th>
          <th>12:50 – 1:30</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>রবিবার</td><td>Math</td><td>Bangla</td><td>English</td><td>Physics</td><td>Biology (1st)</td><td>Chemistry</td></tr>
        <tr><td>সোমবার</td><td>ICT</td><td>Bio (2nd)</td><td>Math</td><td>Physics</td><td>English</td><td>Chemistry</td></tr>
        <tr><td>মঙ্গলবার</td><td>Bangla</td><td>Bio (2nd)</td><td>ICT</td><td>Math</td><td>Bio (1st)</td><td>Chemistry</td></tr>
        <tr><td>বুধবার</td><td>Bio (2nd)</td><td>English</td><td>Bangla</td><td>Chemistry</td><td>Bio (1st)</td><td>Physics</td></tr>
        <tr><td>বৃহস্পতিবার</td><td>Bio (1st)</td><td>English</td><td>Bangla</td><td>Bio (2nd)</td><td>Physics</td><td>Math</td></tr>
      </tbody>
    </table>
  </div>

  <script>
    const table = document.querySelector("#routine");
    const rows = table.querySelectorAll("tbody tr");
    const headerCells = table.querySelectorAll("thead th");

    const now = new Date();
    const jsDay = now.getDay();
    const hour = now.getHours();
    const minute = now.getMinutes();

    let routineDayIndex = jsDay === 0 ? 0 : jsDay >= 1 && jsDay <= 4 ? jsDay : -1;

    const classTimes = [
      { start: [9, 30], end: [10, 10] },
      { start: [10, 10], end: [10, 50] },
      { start: [10, 50], end: [11, 30] },
      { start: [11, 30], end: [12, 10] },
      { start: [12, 10], end: [12, 50] },
      { start: [12, 50], end: [13, 30] }
    ];

    function isNowBetween(start, end) {
      const nowMin = hour * 60 + minute;
      const startMin = start[0] * 60 + start[1];
      const endMin = end[0] * 60 + end[1];
      return nowMin >= startMin && nowMin <= endMin;
    }

    if (routineDayIndex !== -1 && rows[routineDayIndex]) {
      const todayRow = rows[routineDayIndex];
      todayRow.classList.add("today-row");

      for (let i = 0; i < classTimes.length; i++) {
        if (isNowBetween(classTimes[i].start, classTimes[i].end)) {
          todayRow.children[i + 1].classList.add("current-class");
          headerCells[i + 1].classList.add("current-time");
        }
      }
    }
  </script>
</body>
</html>
